# zyrthi-core

**Zyrthi æ ¸å¿ƒè¿è¡Œæ¡†æ¶** â€”â€” åŸºäº `zyrthi-hal` çš„è·¨èŠ¯ç‰‡åµŒå…¥å¼ä¸»å¾ªç¯æ¡†æ¶ã€‚

---

## âœ¨ æ ¸å¿ƒç‰¹ç‚¹

- **åŒå…¥å£å…¼å®¹**  
  æ”¯æŒ Arduino é£æ ¼ï¼ˆ`setup`/`loop`ï¼‰å’Œä¼ ç»Ÿ C é£æ ¼ï¼ˆè‡ªå®šä¹‰ `main`ï¼‰ï¼Œçµæ´»é€‚é…ä¸åŒå¼€å‘ä¹ æƒ¯ã€‚
  
- **åˆå§‹åŒ–è§„èŒƒ**  
  éµå¾ªåµŒå…¥å¼æœ€ä½³å®è·µï¼Œåˆå§‹åŒ–é¡ºåºæ¸…æ™°å¯æ§ï¼Œç¡®ä¿ç³»ç»Ÿå¯åŠ¨ç¨³å®šã€‚
  
- **å¼±ç¬¦å·æ‰©å±•**  
  æ ¸å¿ƒå‡½æ•°æ”¯æŒé‡å†™ï¼ˆWeak Symbolï¼‰ï¼Œæ— éœ€ä¿®æ”¹æ¡†æ¶æºç å³å¯é€‚é…ä»»æ„èŠ¯ç‰‡ã€‚
  
- **æç®€ç¼–è¯‘**  
  å†…ç½® Makefileï¼Œæ”¯æŒä¸»æœºæ¨¡æ‹Ÿä¸äº¤å‰ç¼–è¯‘ï¼Œä¸€é”®å®Œæˆç¼–è¯‘ã€æ¸…ç†ä¸è¿è¡Œã€‚

---

## âš™ï¸ åˆå§‹åŒ–é¡ºåºè§„èŒƒ

`zyrthi-core` ä¸¥æ ¼éµå¾ªåµŒå…¥å¼å¯åŠ¨æµç¨‹ï¼Œåˆå§‹åŒ–é¡ºåºå¦‚ä¸‹ï¼š

1. **ç³»ç»Ÿçº§åˆå§‹åŒ–**  
   ç”±ç¼–è¯‘å™¨è‡ªåŠ¨å®Œæˆï¼ˆæ ˆã€å…¨å±€å˜é‡ã€å†…å­˜æ®µæ˜ å°„ç­‰ï¼‰ã€‚
2. **è¿›å…¥ `main()`**  
   è°ƒç”¨ `system_init()`ï¼ˆå¤–è®¾çº§åˆå§‹åŒ–ï¼Œå¦‚æ—¶é’Ÿã€GPIOï¼‰ã€‚
3. **ç”¨æˆ·åˆå§‹åŒ–**  
   è°ƒç”¨ `setup()`ï¼ˆç”¨æˆ·è‡ªå®šä¹‰çš„å¤–è®¾é…ç½®ï¼‰ã€‚
4. **ä¸»å¾ªç¯**  
   è¿›å…¥ `loop()` æ— é™å¾ªç¯ï¼Œæ‰§è¡Œä¸šåŠ¡é€»è¾‘ã€‚

> **æ‰©å±•æç¤º**  
> ç”¨æˆ·å¯é€šè¿‡é‡å†™ `system_init()` è‡ªå®šä¹‰ç¡¬ä»¶åˆå§‹åŒ–ï¼Œæˆ–é€šè¿‡è‡ªå®šä¹‰ `main()` å®Œå…¨æŒæ§å¯åŠ¨æµç¨‹ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ä¾èµ–é¡¹

- **zyrthi-hal**ï¼šéœ€å°† `zyrthi-hal` çš„ `include` ç›®å½•åŠ å…¥ç¼–è¯‘è·¯å¾„ï¼ˆMakefile å·²é»˜è®¤é…ç½®ï¼‰ã€‚

### 2. ç¤ºä¾‹ï¼šLED é—ªçƒ

åˆ›å»º `examples/led_blink.c`ï¼š

```c
#include "zyrthi_core.h"

void setup(void) {
    // åˆå§‹åŒ– LED å¼•è„š (å‡è®¾ LED æ¥åœ¨ GPIO 13)
    gpio_mode(13, OUTPUT);
}

void loop(void) {
    gpio_write(13, HIGH);
    delay_ms(500);
    gpio_write(13, LOW);
    delay_ms(500);
}
